<html lang="en" ng-app="collage">

<head>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic">
  <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">-->
  <link rel="stylesheet" href="app.css">
  <meta name="viewport" content="initial-scale=1" />
  <title>Collage</title>
</head>

<body layout="column" ng-controller="collageCtrl">
  <md-toolbar layout="row">
    <div class="md-toolbar-tools">
      <md-button ng-click="toggleSidenav('left')" hide-gt-sm class="md-icon-button">
        <md-icon aria-label="Menu" md-svg-icon="https://s3-us-west-2.amazonaws.com/s.cdpn.io/68133/menu.svg"></md-icon>
      </md-button>
      <h1>Collage</h1>
    </div>
  </md-toolbar>
  <div layout="row" flex>

    <!-- IMAGE COLLECTION SIDEBAR -->
    <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-sm')">

      <div flow-init
           flow-name="data.collectionFlow"
           flow-files-submitted="$flow.upload()"
           flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]"
           flow-complete="collectionFlowComplete()">
          <div class="drop" flow-drop ng-class="dropClass">
            <md-button class="md-raised" flow-btn>Load Image</md-button>
            <md-button class="md-raised" flow-btn flow-directory ng-show="$flow.supportDirectory">Or folder</md-button>
          </div>

          <br/>

          <div>

            <div ng-repeat="file in $flow.files" class="gallery-box">
              <div class="thumbnail" ng-show="$flow.files.length">
                <md-button class="md-fab md-mini" aria-label="Remove" ng-click="file.cancel()">
                  <md-icon md-svg-icon="ic_delete_24px.svg"></md-icon>
                </md-button>
                <img flow-img="file" />
              </div>
            </div>
            <div class="clear"></div>
          </div>

        </div>

    </md-sidenav>


    <div layout="row" flex id="content">
      <md-content flex="50" class="md-padding">

       <!-- <pre ng-if="imageCollections[0].loaded">
          {{collage|json}}
        </pre>-->
        <div flow-init="{singleFile:true}"
            flow-name="data.targetFlow"
            flow-complete="targetFlowComplete()"
            flow-files-submitted="$flow.upload()"
            flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]">
          <div class="thumbnail" ng-show="$flow.files.length">
            <md-button class="md-fab md-mini" aria-label="Remove" ng-click="$flow.cancel()">
              <md-icon md-svg-icon="ic_delete_24px.svg"></md-icon>
            </md-button>
            <img flow-img="$flow.files[0]" />
          </div>
          <div ng-show="!$flow.files.length">
            <md-button class="md-raised" ng-disabled="!collection.loaded" flow-btn>Based on target image</md-button>
            <md-button class="md-raised" ng-disabled="!collection.loaded" ng-click="newRandomCollage()">Random</md-button>
          </div>
        </div>
      </md-content>

      <md-content flex="50" class="md-padding">      
        <div collage="collage" ng-if="collage"></div>
      </md-content>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.js"></script>

  <!--<script src="https://cdn.rawgit.com/subprotocol/genetic-js/master/lib/genetic.js"></script>-->
  <script src="https://cdn.rawgit.com/albanm/genetic-js/async/lib/genetic.js"></script>
  <!--<script src="../genetic-js/lib/genetic.js"></script>-->

  <script src="random-0.26.js"></script>
  <script src="https://cdn.rawgit.com/husl-colors/husl/master/husl.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-flow/2.6.1/ng-flow-standalone.min.js"></script>

  <script src="app.js"></script>
  <script src="image-collections-data.js"></script>
  <script src="collage-directive.js"></script>
  <script src="collage-utils.js"></script>
  <script src="collage-model.js"></script>
  <script src="image-model.js"></script>
  <script src="image-collection-model.js"></script>
  <script src="ga.js"></script>
  <script src="file-reader.js"></script>

</body>

</html>
